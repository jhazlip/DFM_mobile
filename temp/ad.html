<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		
		<script type='text/javascript'>
			//<script src="http://www.googletagservices.com/tag/js/gpt_mobile.js"><\/script>
			(function() {
				var useSSL = 'https:' == document.location.protocol;
				var src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt_mobile.js';
				document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
			})();
		</script>
	
	</head>
	<body>
		<script type='text/javascript'>
			// As best I can tell - in order to dynamically render ads with js
			// you must declare all ad spots (embedded in html) on initial render of page (at bottom in div 'mobile_ad_1')
			// when you init the googletag you must enableAsyncRendering and then disableInitialLoad
			//		this turns off rendering of ads (as many of them might be hidden from view on load)
			// after init you can render that ad tag by its var name anytime
			//		googletag.pubads().refresh([ad1]);
			// you can even delete the div that contains the ad, recreate it and refresh the ad in the newly created div
			
			var ad1, interstitialAd;
			
			
			
			googletag.cmd.push(function() {
				//ad1 = googletag.defineSlot('/8013/digital.first.media.test.site/Mobile', [300, 50], 'story_ad_top').addService(googletag.pubads());
				//interstitialAd=	googletag.defineSlot('/6076/Inderpreet_Test_Mobile_Ad', [[300, 250]], 'mobile_interstitial').addService(googletag.pubads());
				ad1 = googletag.defineSlot('/8013/digital.first.media.test.site/Mobile', [300, 250], 'mobile_daily_deals').addService(googletag.pubads());
				
				googletag.pubads().enableAsyncRendering();
				googletag.pubads().disableInitialLoad();		//turns off rendering on initial load
				
				googletag.enableServices();
			});
			
			//----------------------------------------------------------------mobile_ad_1
			//		refresh ad to show it (for the 1st time)
			setTimeout(function() { googletag.pubads().refresh([ad1]); }, 2500);

			//		Empty 'ad_container' div (basically deleting the ad div), 
			//		then insert a new empty 'mobile_ad_1' div
			setTimeout(function() { 
				//document.getElementById( 'ad_container' ).innerHTML = "<div id='story_ad_top'></div>";
			}, 1500);
			
			//		now try refreshing the ad again... it works!
			//setTimeout(function() { googletag.pubads().refresh([ad1]); }, 2500);
			//----------------------------------------------------------------mobile_ad_1 (end)
		</script>
		

		<div id='ad_container' style="">							<!-- a div that contains the ad div -->
			<!-- digital.first-media.Test.site/Mobile -->
			<div id='mobile_daily_deals'>
			<script type='text/javascript'>
			googletag.cmd.push(function() { googletag.display('mobile_daily_deals')});
			</script>
			</div>
		</div>
		
		

	</body>
</html>