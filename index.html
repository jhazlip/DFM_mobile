<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<title>Denver Post</title>
		
		<!-- STYLESHEETS -->
		<link rel="stylesheet" type="text/css" media="all" href="style.css"><!-- dfm_mobile css -->

		<!-- JAVASCRIPTS -->
		<script src="js/dfm_mobile.js"></script>
		<script src="js/JSXCompressor/jsxcompressor.min.js"></script><!-- uncompresses json - wont need once NGPS feed done -->
		<script src="http://sandbox.dailyme.com/rmv2/js/recommender.js"></script><!-- newstogram -->
		<script>
			document.addEventListener('DOMContentLoaded', function (e) { pageloaded(); }, false);
			var xtesting = 0;
			var xInterface;
			var xFeedList = new Array();			//property list of all sections and their feeds
			var activeSection 	= 0;				//the current section number (in xFeedList array) - pointer
			var StoryList = new Array();			//array with all current section stories
			var activeStory		= 0;				//the current story   number (in StoryList array) - pointer
			var propertyTitle = '';
			var propertyImage = '';
			var backgroundsplash = '';
			
			function pageloaded() {
				//xInterface = new Interface( 'test', {transition: 'fade'});
				xInterface = new Interface( '' );	//this shows nothing but initiates the class

				//once interface is loaded we:
				//	1. load local content
				loadPropertyData();			//eventually once this is loading external content, it will need other things to wait until it is done

				//	2. build the sections menu window
				renderSectionsWindow();

				//-----------------------------------------------------launch environment
				preloadimages([ propertyImage ]).done(function(images){
					//when images are done loading:
					xInterface.showWindow( 'splash', {transition: 'fade'} );
					setTimeout(function() { loadNewSection(); }, 1500);
				});
			}
		</script>
		<script src="js/universal.js"></script>
	</head>
<body>

<div id="dfm_mobile" >
	
	<div id="splash" >
		<div class="content" >
			<div style="position:absolute;background-color:none;width:100%;height:100%;top:0%;background-image:url(assets/denverpostsplash.gif);background-size: contain;background-repeat:no-repeat;background-position:center;background-color:#0079c2;"></div>
		</div>
	</div><!-- /splash -->
	
	
	<div id="home" >
		<div class="toolbar darkblue">
			<!-- ALL buttons first -->
			<div class="sm_but_icon sections" onclick="xInterface.showWindow( 'sections_window', { transition: 'slideRight', overlay:1 });">
				<span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
			</div>
			<div class="sm_but_icon settings right" onclick="xInterface.showWindow( 'settings_window', { transition: 'fade', overlay:1 });"></div>
			
			<!-- then add title -->
			<h4 class="flag">The Denver Post</h4>
		</div>
		<div class="content belowtoolbar " style="background-color:#333;">
			<div id="home_section_list" class="scroller full custom"></div>
		</div>
	</div><!-- /home -->
	
	<div id="story_window">
		<div class="content ">
			<!-- <div class="toolbar lightGray">
				<div class="sm_but_icon close" onclick="xInterface.closeActiveWindow();">Ã—</div>
				<h4>Section Here</h4>
				<div class="sm_but_icon share right"></div>
			</div> --><!-- /toolbar -->
			<div id="story_container" class="scroller "></div>
		</div><!-- /content -->
	</div><!-- /story_window -->
	
	<div id="share_window">
		<div class="content alertwindow overlay" style="">
			<div class="close" onclick="xInterface.closeActiveWindow();"><img src="assets/close_pop.png" class="btn_close" title="Close Window" style="float: right;margin: -10px -10px 0 0;" /></div>
			<div style="position:absolute;top:20px;left:20px;right:20px;margin:auto;text-align:center;border:1px solid #333;">
				<div style="position:relative;margin:10px;width:200px;display:inline-block;"  ontouchstart="xActiveTouch = 1;" ontouchmove="xActiveTouch = 0;" onclick="event.returnValue=false;if (xActiveTouch) { alert('234'); }">
					<div class="list_image_title" style="margin:5px 0px 0px 0px;width:100%;color:#333;">Sharing alert window will contain buttons for social sharing sites such as Facebook and twitter.</div>
				</div>
			</div>
		</div>
	</div><!-- /share_window -->
	
	<div id="sections_window" style="width:300px;border-right:1px solid #000;">
			<div class="toolbar darkdarkblue">
				<!-- ALL buttons first -->
				<div class="sm_but_icon sections active"  onclick="xInterface.closeActiveWindow();"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div>
				<!-- then add title -->
				<h4 class="flag">The Denver Post</h4>
			</div>
			<div class="content belowtoolbar black overlay" style="">
				<div id="sections_container" class="scroller full dark"></div>
			</div>

	</div><!-- /sections_window -->
	
	<div id="settings_window">
		<div class="content alertwindow overlay" style="">
			<div class="close" onclick="xInterface.closeActiveWindow();"><img src="assets/close_pop.png" class="btn_close" title="Close Window" style="float: right;margin: -10px -10px 0 0;" /></div>
			<div style="position:absolute;top:20px;left:20px;right:20px;margin:auto;text-align:center;border:1px solid #333;">
				<div style="position:relative;margin:10px;width:200px;display:inline-block;"  ontouchstart="xActiveTouch = 1;" ontouchmove="xActiveTouch = 0;" onclick="event.returnValue=false;if (xActiveTouch) { alert('234'); }">
					<div class="list_image_title" style="margin:5px 0px 0px 0px;width:100%;color:#333;">Settings window will contain features such as 'View Desktop Version', change article text size, etc.</div>
				</div>
			</div>
		</div>
	</div><!-- /settings_window -->
	
</div><!-- /dfm_mobile -->

</body>
</html>
